[
  {
    "id": "query_01",
    "difficulty": "Simple SELECT with WHERE",
    "question": "What is the title and publication year of the book with the ID of 12?",
    "ground_truth_sql": "SELECT title, publication_year FROM BOOK WHERE book_id = 12;"
  },
  {
    "id": "query_02",
    "difficulty": "SELECT with WHERE and ORDER BY",
    "question": "List all books in the 'Novel' genre, ordered by publication year from newest to oldest.",
    "ground_truth_sql": "SELECT title, publication_year FROM BOOK WHERE genre = 'Novel' ORDER BY publication_year DESC;"
  },
  {
    "id": "query_03",
    "difficulty": "Simple INNER JOIN",
    "question": "Show me the titles of all books written by George Orwell.",
    "ground_truth_sql": "SELECT T1.title FROM BOOK AS T1 JOIN AUTHOR AS T2 ON T1.author_id = T2.author_id WHERE T2.surname = 'Orwell';"
  },
  {
    "id": "query_04",
    "difficulty": "Three-Table INNER JOIN",
    "question": "What are the full names of readers who have borrowed the book 'Nineteen Eighty-Four'?",
    "ground_truth_sql": "SELECT T2.name, T2.surname FROM BOOK_LOAN AS T1 JOIN READER AS T2 ON T1.reader_id = T2.reader_id JOIN BOOK AS T3 ON T1.book_id = T3.book_id WHERE T3.title = 'Nineteen Eighty-Four';"
  },
  {
    "id": "query_05",
    "difficulty": "GROUP BY with COUNT",
    "question": "Count how many books each author has in the library and show the author's full name.",
    "ground_truth_sql": "SELECT T2.name, T2.surname, COUNT(T1.book_id) AS num_books FROM BOOK AS T1 JOIN AUTHOR AS T2 ON T1.author_id = T2.author_id GROUP BY T2.author_id;"
  },
  {
    "id": "query_06",
    "difficulty": "GROUP BY with SUM",
    "question": "Calculate the total number of available copies for each book genre.",
    "ground_truth_sql": "SELECT genre, SUM(num_copies) AS total_copies FROM BOOK GROUP BY genre;"
  },
  {
    "id": "query_07",
    "difficulty": "GROUP BY with HAVING",
    "question": "List the genres that have more than 10 copies in total across all their books.",
    "ground_truth_sql": "SELECT genre, SUM(num_copies) AS total_copies FROM BOOK GROUP BY genre HAVING SUM(num_copies) > 10;"
  },
  {
    "id": "query_08",
    "difficulty": "Subquery with IN",
    "question": "Find the names of all authors who have written books in the 'Fantasy' genre.",
    "ground_truth_sql": "SELECT name, surname FROM AUTHOR WHERE author_id IN (SELECT author_id FROM BOOK WHERE genre = 'Fantasy');"
  },
  {
    "id": "query_09",
    "difficulty": "Subquery with NOT IN",
    "question": "Display the names of readers who have never borrowed any book.",
    "ground_truth_sql": "SELECT name, surname FROM READER WHERE reader_id NOT IN (SELECT DISTINCT reader_id FROM BOOK_LOAN);"
  },
  {
    "id": "query_10",
    "difficulty": "Date Function with JOIN",
    "question": "Which books are still on loan that were borrowed in October 2024?",
    "ground_truth_sql": "SELECT T2.title FROM BOOK_LOAN AS T1 JOIN BOOK AS T2 ON T1.book_id = T2.book_id WHERE T1.return_date IS NULL AND STRFTIME('%Y-%m', T1.loan_date) = '2024-10';"
  },
  {
    "id": "query_11",
    "difficulty": "Advanced JOIN with Aggregation and LIMIT",
    "question": "What is the name of the employee who is responsible for the room with the highest capacity?",
    "ground_truth_sql": "SELECT T2.name, T2.surname FROM ROOM AS T1 JOIN EMPLOYEE AS T2 ON T1.responsible_employee_id = T2.employee_id ORDER BY T1.capacity DESC LIMIT 1;"
  },
  {
    "id": "query_12",
    "difficulty": "Nested Query / Common Table Expression (CTE)",
    "question": "Find the title of the book that has been loaned out the most times.",
    "ground_truth_sql": "SELECT T2.title FROM BOOK_LOAN AS T1 JOIN BOOK AS T2 ON T1.book_id = T2.book_id GROUP BY T1.book_id ORDER BY COUNT(T1.book_id) DESC LIMIT 1;"
  },
  {
    "id": "query_13",
    "difficulty": "Relational Division (Advanced)",
    "question": "Find the names of readers who have borrowed all books written by author Jane Austen.",
    "ground_truth_sql": "SELECT T2.name, T2.surname FROM BOOK_LOAN AS T1 JOIN READER AS T2 ON T1.reader_id = T2.reader_id JOIN BOOK AS T3 ON T1.book_id = T3.book_id JOIN AUTHOR AS T4 ON T3.author_id = T4.author_id WHERE T4.surname = 'Austen' GROUP BY T1.reader_id HAVING COUNT(DISTINCT T1.book_id) = (SELECT COUNT(book_id) FROM BOOK WHERE author_id = (SELECT author_id FROM AUTHOR WHERE surname = 'Austen'));"
  },
  {
    "id": "query_14",
    "difficulty": "Self-Join Logic",
    "question": "List pairs of readers who subscribed to the library on the exact same date. Show the names of both readers and the date.",
    "ground_truth_sql": "SELECT A.name, A.surname, B.name, B.surname, A.subscription_date FROM READER A, READER B WHERE A.reader_id < B.reader_id AND A.subscription_date = B.subscription_date;"
  },
  {
    "id": "query_15",
    "difficulty": "Complex Aggregation with Multiple JOINs",
    "question": "Show each room's name, the full name of the employee responsible for it, and the number of reservations that have been made for that room.",
    "ground_truth_sql": "SELECT R.name AS room_name, E.name || ' ' || E.surname AS employee_name, COUNT(RR.room_id) AS number_of_reservations FROM ROOM AS R LEFT JOIN EMPLOYEE AS E ON R.responsible_employee_id = E.employee_id LEFT JOIN ROOM_RESERVATION AS RR ON R.room_id = RR.room_id GROUP BY R.room_id, employee_name;"
  }
]
